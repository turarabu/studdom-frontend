{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\UI\\SearchList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\UI\\SearchList.vue","mtime":1575955302582},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IFsndmFsdWUnLCAnbGlzdCddLA0KICAgIGNvbXB1dGVkOiB7IHNvcnRlZCB9LA0KICAgIG1ldGhvZHM6IHsgc2VsZWN0IH0sDQogICAgbW91bnRlZDogc3RhcnQsDQogICAgZGF0YTogZnVuY3Rpb24gKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc2VhcmNoOiAnJywNCiAgICAgICAgICAgIG9wZW46IGZhbHNlLA0KICAgICAgICAgICAgY3VycmVudDogMA0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBzb3J0ZWQgKCkgew0KICAgIHZhciBzb3J0ID0gW10NCg0KICAgIHRoaXMubGlzdC5mb3JFYWNoKChvcHRpb24sIGluZGV4KSA9PiB7DQogICAgICAgIGlmICggb3B0aW9uLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHRoaXMuc2VhcmNoLnRvTG93ZXJDYXNlKCkgfHwgJycpID4gLTEgKQ0KICAgICAgICAgICAgc29ydC5wdXNoKHsNCiAgICAgICAgICAgICAgICBpZDogaW5kZXgsDQogICAgICAgICAgICAgICAgdGl0bGU6IG9wdGlvbg0KICAgICAgICAgICAgfSkNCiAgICB9KQ0KDQogICAgcmV0dXJuIHNvcnQNCn0NCg0KZnVuY3Rpb24gc2VsZWN0IChpZCkgew0KICAgIHRoaXMub3BlbiA9IGZhbHNlDQogICAgdGhpcy5jdXJyZW50ID0gaWQNCn0NCg0KZnVuY3Rpb24gc3RhcnQgKCkgew0KICAgIHRoaXMuJHdhdGNoKCdjdXJyZW50JywgaWQgPT4gew0KICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMubGlzdFsgaWQgXSkNCiAgICB9KQ0KDQogICAgLy8gdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHsNCiAgICAvLyAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgLy8gICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQ0KICAgIC8vICAgICB9LCA1MCkNCiAgICAvLyB9KQ0KDQogICAgDQogICAgLy8gdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHsNCiAgICAvLyAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCkNCiAgICAvLyB9KQ0KDQogICAgcmV0dXJuIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5saXN0WyB0aGlzLmN1cnJlbnQgXSB8fCAnJykNCn0NCg=="},{"version":3,"sources":["SearchList.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA","file":"SearchList.vue","sourceRoot":"source/components/UI","sourcesContent":["<template lang='pug'>\r\n    div( class='search-list-div' )\r\n        span( class='current' @click='open = !open' ) {{ list[ current ] }}\r\n            i( class='drop-down-icon icon-arrow-drop' :class='{ open }' )\r\n\r\n        div( class='search-list' :class='{ open }' )\r\n            input( class='search-input' placeholder='Найти...' v-model='search' )\r\n            span( v-for='option of sorted' class='option' @click='select(option.id)' ) {{ option.title }}\r\n            span( v-if='sorted.length === 0' class='option gray' @click='search = \"\"' ) Не найдено\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['value', 'list'],\r\n    computed: { sorted },\r\n    methods: { select },\r\n    mounted: start,\r\n    data: function () {\r\n        return {\r\n            search: '',\r\n            open: false,\r\n            current: 0\r\n        }\r\n    }\r\n}\r\n\r\nfunction sorted () {\r\n    var sort = []\r\n\r\n    this.list.forEach((option, index) => {\r\n        if ( option.toLowerCase().search(this.search.toLowerCase() || '') > -1 )\r\n            sort.push({\r\n                id: index,\r\n                title: option\r\n            })\r\n    })\r\n\r\n    return sort\r\n}\r\n\r\nfunction select (id) {\r\n    this.open = false\r\n    this.current = id\r\n}\r\n\r\nfunction start () {\r\n    this.$watch('current', id => {\r\n        this.$emit('input', this.list[ id ])\r\n    })\r\n\r\n    // this.$el.addEventListener('mouseleave', () => {\r\n    //     this.timeout = setTimeout(() => {\r\n    //         this.open = false\r\n    //     }, 50)\r\n    // })\r\n\r\n    \r\n    // this.$el.addEventListener('mouseenter', () => {\r\n    //     clearTimeout(this.timeout)\r\n    // })\r\n\r\n    return this.$emit('input', this.list[ this.current ] || '')\r\n}\r\n</script>\r\n\r\n<style lang='stylus'>\r\n@import '~src/style/palette'\r\n\r\n.search-list-div\r\n    display inline-block\r\n    position relative\r\n    min-width 380px\r\n\r\n    .current\r\n        border 1px solid lighten($light-gray, 10)\r\n        border-radius 3px\r\n        cursor pointer\r\n        display block\r\n        font-size 18px\r\n        padding 8px 12px\r\n        position relative\r\n\r\n        .drop-down-icon\r\n            color darken($light-gray, 20)\r\n            font-size 20px\r\n            position absolute\r\n            top 8px\r\n            right 12px\r\n            &.open\r\n                top 3px\r\n                transform scale(1, -1)\r\n\r\n\r\n    .search-list\r\n        background $white\r\n        border-radius 3px\r\n        box-shadow 0 0 0 $white\r\n        opacity 0\r\n        overflow hidden\r\n        position absolute\r\n        top calc(100% + 8px)\r\n        left 0\r\n        max-height 0\r\n        width 100%\r\n        z-index 3\r\n        &.open\r\n            box-shadow 0 0 3px darken($light-gray, 15)\r\n            opacity 1\r\n            max-height 195px\r\n\r\n        .search-input\r\n            border 1px solid lighten($light-gray, 10)\r\n            border-top none\r\n            border-radius 3px\r\n            display block\r\n            font-size 18px\r\n            margin 0 -1px\r\n            margin-bottom 4px\r\n            outline none\r\n            padding 8px\r\n            width calc(100% + 2px)\r\n\r\n        .option\r\n            cursor pointer\r\n            display block\r\n            font-size 18px\r\n            padding 8px 12px\r\n            &:hover\r\n                background lighten($light-gray, 25)\r\n            &.gray\r\n                background inherit\r\n                color $light-gray\r\n\r\n</style>"]}]}