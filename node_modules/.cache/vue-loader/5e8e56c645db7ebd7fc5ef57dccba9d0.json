{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\Home\\SecondLine.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\Home\\SecondLine.vue","mtime":1576414385842},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQp2YXIgdXNlID0gMTYwMA0KdmFyIHNjcmVlbnMgPSB7DQogICAgMTM2Njogew0KICAgICAgICBoZWlnaHQ6IDE4MCwNCiAgICAgICAgd2lkdGg6IDMwMCwNCiAgICAgICAgZlNpemU6ICcxMnB4JywNCiAgICAgICAgbFdpZHRoOiAxNDANCiAgICB9LA0KDQogICAgMTYwMDogew0KICAgICAgICBoZWlnaHQ6IDIyMCwNCiAgICAgICAgd2lkdGg6IDQ0MCwNCiAgICAgICAgZlNpemU6ICcxOHB4JywNCiAgICAgICAgbFdpZHRoOiAyMjANCiAgICB9DQp9DQoNCg0KdmFyIHNjcmVlbnMyID0gew0KICAgIDEzNjY6IHsNCiAgICAgICAgaGVpZ2h0OiAzOTAsDQogICAgICAgIHdpZHRoOiA2NzAsDQogICAgICAgIGZTaXplOiAnMThweCcsDQogICAgICAgIGxXaWR0aDogMTQwDQogICAgfSwNCg0KICAgIDE2MDA6IHsNCiAgICAgICAgaGVpZ2h0OiA0NDAsDQogICAgICAgIHdpZHRoOiA4NTAsDQogICAgICAgIGZTaXplOiAnMThweCcsDQogICAgICAgIGxXaWR0aDogMjIwDQogICAgfQ0KfQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IFsndXNlJ10sDQogICAgbWV0aG9kczogeyBnZXRTaWducywgYWxsU2lnbnMsIGdldEJ5RGF5cywgZmlyc3RMZXZlbDIsIGZpcnN0TGV2ZWwzIH0sDQogICAgbW91bnRlZDogc3RhcnQsDQogICAgZGF0YTogZnVuY3Rpb24gKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgYnlEYXRlOiBmYWxzZQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBzdGFydCAoKSB7DQogICAgdXNlID0gdGhpcy51c2UNCiAgICANCiAgICB0aGlzLmZpcnN0TGV2ZWwyKCkNCiAgICB0aGlzLmZpcnN0TGV2ZWwzKCkNCg0KICAgIHRoaXMuJHdhdGNoKCd1c2UnLCBuZXdVc2UgPT4gew0KICAgICAgICB1c2UgPSBuZXdVc2UNCg0KICAgICAgICB0aGlzLmZpcnN0TGV2ZWwyKCkNCiAgICAgICAgdGhpcy5maXJzdExldmVsMygpDQogICAgfSkNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZmlyc3RMZXZlbDIgKCkgew0KICAgIHZhciBzZXJpZXMgPSBhd2FpdCB0aGlzLmdldEJ5RGF5cygnbW9udGgnKQ0KDQogICAgSGlnaGNoYXJ0cy5jaGFydCgnc2Vjb25kLWxldmVsLTInLCB7DQogICAgICAgIHRpdGxlOiB7IHRleHQ6ICfQlNC40L3QsNC80LjQutCwINCw0LLRgtC+0YDQuNC30LDRhtC40Lgg0LfQsCDQvNC10YHRj9GGJyB9LA0KICAgICAgICBzdWJ0aXRsZTogeyB0ZXh0OiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygncnUnLCB7IHdlZWtkYXk6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJywgZGF5OiAnbnVtZXJpYyd9KSB9LA0KICAgICAgICBjcmVkaXRzOiB7IGVuYWJsZWQ6IGZhbHNlIH0sDQogICAgICAgIGxlZ2VuZDogeyBlbmFibGVkOiBmYWxzZSB9LA0KICAgICAgICB5QXhpczogeyB0aXRsZTogeyB0ZXh0OiAnJyB9IH0sDQogICAgICAgIGV4cG9ydGluZzogew0KICAgICAgICAgICAgYnV0dG9uczogeyBjb250ZXh0QnV0dG9uOiB7IGVuYWJsZWQ6IGZhbHNlIH0gfQ0KICAgICAgICB9LA0KICAgICAgICANCiAgICAgICAgY2hhcnQ6IHsNCiAgICAgICAgICAgIHR5cGU6ICdhcmVhc3BsaW5lJywNCiAgICAgICAgICAgIGhlaWdodDogc2NyZWVuczJbdXNlXS5oZWlnaHQsDQogICAgICAgICAgICB3aWR0aDogc2NyZWVuczJbdXNlXS53aWR0aA0KICAgICAgICB9LA0KDQogICAgICAgIHBsb3RPcHRpb25zOiB7DQogICAgICAgICAgICBhcmVhc3BsaW5lOiB7IGZpbGxPcGFjaXR5OiAwLjI1IH0NCiAgICAgICAgfSwNCg0KICAgICAgICB4QXhpczogew0KICAgICAgICAgICAgY2F0ZWdvcmllczogWw0KICAgICAgICAgICAgICAgICcxJywNCiAgICAgICAgICAgICAgICAnMicsDQogICAgICAgICAgICAgICAgJzMnLA0KICAgICAgICAgICAgICAgICc0JywNCiAgICAgICAgICAgICAgICAnNScsDQogICAgICAgICAgICAgICAgJzYnLA0KICAgICAgICAgICAgICAgICc3JywNCiAgICAgICAgICAgICAgICAnOCcsDQogICAgICAgICAgICAgICAgJzknLA0KICAgICAgICAgICAgICAgICcxMCcsDQogICAgICAgICAgICAgICAgJzExJywNCiAgICAgICAgICAgICAgICAnMTInLA0KICAgICAgICAgICAgICAgICcxMycsDQogICAgICAgICAgICAgICAgJzE0JywNCiAgICAgICAgICAgICAgICAnMTUnLA0KICAgICAgICAgICAgICAgICcxNicsDQogICAgICAgICAgICAgICAgJzE3JywNCiAgICAgICAgICAgICAgICAnMTgnLA0KICAgICAgICAgICAgICAgICcxOScsDQogICAgICAgICAgICAgICAgJzIwJywNCiAgICAgICAgICAgICAgICAnMjEnLA0KICAgICAgICAgICAgICAgICcyMicsDQogICAgICAgICAgICAgICAgJzIzJywNCiAgICAgICAgICAgICAgICAnMjQnLA0KICAgICAgICAgICAgICAgICcyNScsDQogICAgICAgICAgICAgICAgJzI2JywNCiAgICAgICAgICAgICAgICAnMjcnLA0KICAgICAgICAgICAgICAgICcyOCcsDQogICAgICAgICAgICAgICAgJzI5JywNCiAgICAgICAgICAgICAgICAnMzAnLA0KICAgICAgICAgICAgICAgICczMScsDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQoNCiAgICAgICAgc2VyaWVzOiBbew0KICAgICAgICAgICAgbmFtZTogJ9CQ0LLRgtC+0YDQuNC30LDRhtC40LgnLA0KICAgICAgICAgICAgZGF0YTogc2VyaWVzDQogICAgICAgIH1dDQogICAgfSkNCn0NCg0KZnVuY3Rpb24gZmlyc3RMZXZlbDMgKCkgew0KICAgIEhpZ2hjaGFydHMuY2hhcnQoJ3NlY29uZC1sZXZlbC0zJywgew0KICAgICAgICB0aXRsZTogew0KICAgICAgICAgICAgdGV4dDogJ9CQ0LrRgtC40LLQvdC+0YHRgtGMINC30LAg0LzQtdGB0Y/RhicsDQogICAgICAgICAgICBtYXJnaW46IDE2DQogICAgICAgIH0sDQogICAgICAgIGNyZWRpdHM6IHsgZW5hYmxlZDogZmFsc2UgfSwNCiAgICAgICAgZXhwb3J0aW5nOiB7DQogICAgICAgICAgICBidXR0b25zOiB7IGNvbnRleHRCdXR0b246IHsgZW5hYmxlZDogZmFsc2UgfSB9DQogICAgICAgIH0sDQogICAgICAgIGxlZ2VuZDogew0KICAgICAgICAgICAgdXNlSFRNTDogdHJ1ZSwNCiAgICAgICAgICAgIGxheW91dDogJ3ZlcnRpY2FsJywNCiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsDQogICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JywNCiAgICAgICAgICAgIGxhYmVsRm9ybWF0OiAnPHNwYW4gY2xhc3M9ImxlZ2VuZC1saW5lIj48c3Bhbj57bmFtZX08L3NwYW4+IDxzcGFuIGNsYXNzPSJ2YWx1ZSI+e3BlcmNlbnRhZ2U6LjJmfSU8L3NwYW4+PC9zcGFuPicsDQogICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJywNCiAgICAgICAgICAgIHdpZHRoOiBzY3JlZW5zW3VzZV0ubFdpZHRoLA0KICAgICAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICAgICAgICB0ZXh0OiAnPHNwYW4gY2xhc3M9ImxlZ2VuZC1saW5lIHRpdGxlIj48c3Bhbj7QntCx0YnQtdC20LjRgtC40LU8L3NwYW4+IDxzcGFuIGNsYXNzPSJ2YWx1ZSI+0J/QvtGB0LXRidC10L3QuNC5PC9zcGFuPjwvc3Bhbj4nDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsDQogICAgICAgICAgICAgICAgZm9udFNpemU6IHNjcmVlbnNbdXNlXS5mU2l6ZSwNCiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiA0MDAsDQogICAgICAgICAgICAgICAgd2lkdGg6IHNjcmVlbnNbdXNlXS5sV2lkdGgNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2hhcnQ6IHsNCiAgICAgICAgICAgIHBsb3RCYWNrZ3JvdW5kQ29sb3I6IG51bGwsDQogICAgICAgICAgICBwbG90Qm9yZGVyV2lkdGg6IG51bGwsDQogICAgICAgICAgICBwbG90U2hhZG93OiBmYWxzZSwNCiAgICAgICAgICAgIHR5cGU6ICdwaWUnLA0KICAgICAgICAgICAgaGVpZ2h0OiBzY3JlZW5zW3VzZV0uaGVpZ2h0LA0KICAgICAgICAgICAgd2lkdGg6IHNjcmVlbnNbdXNlXS53aWR0aA0KICAgICAgICB9LA0KICAgICAgICBwbG90T3B0aW9uczogew0KICAgICAgICAgICAgcGllOiB7DQogICAgICAgICAgICAgICAgYWxsb3dQb2ludFNlbGVjdDogdHJ1ZSwNCiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJywNCiAgICAgICAgICAgICAgICBkYXRhTGFiZWxzOiB7IGVuYWJsZWQ6IGZhbHNlIH0sDQogICAgICAgICAgICAgICAgc2hvd0luTGVnZW5kOiB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNlcmllczogW3sNCiAgICAgICAgICAgIG5hbWU6ICfQkNCy0YLQvtGA0LjQt9Cw0YbQuNC4JywNCiAgICAgICAgICAgIGNvbG9yQnlQb2ludDogdHJ1ZSwNCiAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0U2lnbnMoKQ0KICAgICAgICB9XQ0KICAgIH0pDQp9DQoNCmZ1bmN0aW9uIGdldFNpZ25zICgpIHsNCiAgICB2YXIgcmVzdWx0ID0gW10NCiAgICB2YXIgZG9ybWl0b3JpZXMgPSBKU09OLnBhcnNlKCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5kb3JtaXRvcmllcy5saXN0KSkNCiAgICBkb3JtaXRvcmllcy5zb3J0KChhLCBiKSA9PiBiLnNpZ25zIC0gYS5zaWducykNCg0KICAgIGZvciAobGV0IGkgPSAwOyBpICE9IGRvcm1pdG9yaWVzLmxlbmd0aDsgKytpKSB7DQogICAgICAgIGlmICggaSA+PSA0ICkgew0KICAgICAgICAgICAgaWYgKCByZXN1bHRbNF0gPT09IHVuZGVmaW5lZCApDQogICAgICAgICAgICAgICAgcmVzdWx0WzRdID0geyB5OiAwIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIHJlc3VsdFs0XS5uYW1lID0gJ9CU0YDRg9Cz0LjQtScNCiAgICAgICAgICAgIHJlc3VsdFs0XS55ICs9IHBhcnNlU2lnbnMoZG9ybWl0b3JpZXNbaV0uc2lnbnMpIHx8IDANCiAgICAgICAgfQ0KDQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcmVzdWx0LnB1c2goew0KICAgICAgICAgICAgICAgIG5hbWU6IGRvcm1pdG9yaWVzW2ldLm5hbWUsDQogICAgICAgICAgICAgICAgeTogcGFyc2VTaWducyhkb3JtaXRvcmllc1tpXS5zaWducykNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gcmVzdWx0DQp9DQoNCmZ1bmN0aW9uIGFsbFNpZ25zICgpIHsNCiAgICB2YXIgZG9ybWl0b3JpZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kb3JtaXRvcmllcy5saXN0DQogICAgdmFyIGNvdW50ID0gMA0KDQogICAgZG9ybWl0b3JpZXMuZm9yRWFjaChkb3JtaXRvcnkgPT4gew0KICAgICAgICBjb3VudCArPSBwYXJzZVNpZ25zKGRvcm1pdG9yeS5zaWducykNCiAgICB9KQ0KDQogICAgcmV0dXJuIGNvdW50DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldEJ5RGF5cyAodHlwZSkgew0KICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IFtdDQoNCiAgICAgICAgaWYgKCB0aGlzLmJ5RGF0ZSA9PT0gZmFsc2UgKSB7DQogICAgICAgICAgICB2YXIgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmFwaS5nZXQoJ3NpZ24vbGlzdCcpDQogICAgICAgICAgICB0aGlzLmJ5RGF0ZSA9IGRhdGENCiAgICAgICAgICAgIHJlc3VsdCA9IGRhdGFbdHlwZV0NCiAgICAgICAgfQ0KDQogICAgICAgIGVsc2UgcmVzdWx0ID0gdGhpcy5ieURhdGVbdHlwZV0NCg0KICAgICAgICByZXN1bHQuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7DQogICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpDQogICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IDANCiAgICAgICAgfSkNCg0KICAgICAgICByZXNvbHZlKHJlc3VsdCkNCiAgICB9KQ0KfQ0KDQpmdW5jdGlvbiBwYXJzZVNpZ25zIChzaWducykgew0KICAgIHJldHVybiAoc2lnbnMubGVuZ3RoID09PSB1bmRlZmluZWQpDQogICAgICAgID8gc2lnbnMgfHwgMA0KICAgICAgICA6IHNpZ25zLmxlbmd0aA0KfQ0K"},{"version":3,"sources":["SecondLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"SecondLine.vue","sourceRoot":"source/components/Home","sourcesContent":["<template lang='pug'>\r\n    div( class='second-level' )\r\n        div( class='block' )\r\n            div( class='diag-size-1 diag-size-3 texts' )\r\n                div( class='home-data-line' )\r\n                    span( class='key-title' ) Рост студентов\r\n                        span( class='key-subtitle' ) За месяц\r\n\r\n                    span( class='value blue' ) +1\r\n\r\n                div( class='home-data-line' )\r\n                    span( class='key-title' ) Рост посещений\r\n                        span( class='key-subtitle' ) За месяц\r\n\r\n                    span( class='value red' ) +{{ allSigns() }}\r\n\r\n                div( class='home-data-line' )\r\n                    span( class='key-title' ) Посещений\r\n                        span( class='key-subtitle' ) Студента в среднем за месяц\r\n\r\n                    span( class='value purple' ) {{ allSigns() }}\r\n\r\n            div( class='diag-size-1 diag-size-3' )\r\n                figure( class='highcharts-figure' )\r\n                    div#second-level-3\r\n\r\n        div( class='diag-size-2' )\r\n            figure( class='highcharts-figure' )\r\n                div#second-level-2\r\n</template>\r\n\r\n<script>\r\nvar use = 1600\r\nvar screens = {\r\n    1366: {\r\n        height: 180,\r\n        width: 300,\r\n        fSize: '12px',\r\n        lWidth: 140\r\n    },\r\n\r\n    1600: {\r\n        height: 220,\r\n        width: 440,\r\n        fSize: '18px',\r\n        lWidth: 220\r\n    }\r\n}\r\n\r\n\r\nvar screens2 = {\r\n    1366: {\r\n        height: 390,\r\n        width: 670,\r\n        fSize: '18px',\r\n        lWidth: 140\r\n    },\r\n\r\n    1600: {\r\n        height: 440,\r\n        width: 850,\r\n        fSize: '18px',\r\n        lWidth: 220\r\n    }\r\n}\r\n\r\nexport default {\r\n    props: ['use'],\r\n    methods: { getSigns, allSigns, getByDays, firstLevel2, firstLevel3 },\r\n    mounted: start,\r\n    data: function () {\r\n        return {\r\n            byDate: false\r\n        }\r\n    }\r\n}\r\n\r\nfunction start () {\r\n    use = this.use\r\n    \r\n    this.firstLevel2()\r\n    this.firstLevel3()\r\n\r\n    this.$watch('use', newUse => {\r\n        use = newUse\r\n\r\n        this.firstLevel2()\r\n        this.firstLevel3()\r\n    })\r\n}\r\n\r\nasync function firstLevel2 () {\r\n    var series = await this.getByDays('month')\r\n\r\n    Highcharts.chart('second-level-2', {\r\n        title: { text: 'Динамика авторизации за месяц' },\r\n        subtitle: { text: new Date().toLocaleDateString('ru', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric'}) },\r\n        credits: { enabled: false },\r\n        legend: { enabled: false },\r\n        yAxis: { title: { text: '' } },\r\n        exporting: {\r\n            buttons: { contextButton: { enabled: false } }\r\n        },\r\n        \r\n        chart: {\r\n            type: 'areaspline',\r\n            height: screens2[use].height,\r\n            width: screens2[use].width\r\n        },\r\n\r\n        plotOptions: {\r\n            areaspline: { fillOpacity: 0.25 }\r\n        },\r\n\r\n        xAxis: {\r\n            categories: [\r\n                '1',\r\n                '2',\r\n                '3',\r\n                '4',\r\n                '5',\r\n                '6',\r\n                '7',\r\n                '8',\r\n                '9',\r\n                '10',\r\n                '11',\r\n                '12',\r\n                '13',\r\n                '14',\r\n                '15',\r\n                '16',\r\n                '17',\r\n                '18',\r\n                '19',\r\n                '20',\r\n                '21',\r\n                '22',\r\n                '23',\r\n                '24',\r\n                '25',\r\n                '26',\r\n                '27',\r\n                '28',\r\n                '29',\r\n                '30',\r\n                '31',\r\n            ]\r\n        },\r\n\r\n        series: [{\r\n            name: 'Авторизации',\r\n            data: series\r\n        }]\r\n    })\r\n}\r\n\r\nfunction firstLevel3 () {\r\n    Highcharts.chart('second-level-3', {\r\n        title: {\r\n            text: 'Активность за месяц',\r\n            margin: 16\r\n        },\r\n        credits: { enabled: false },\r\n        exporting: {\r\n            buttons: { contextButton: { enabled: false } }\r\n        },\r\n        legend: {\r\n            useHTML: true,\r\n            layout: 'vertical',\r\n            enabled: true,\r\n            align: 'right',\r\n            labelFormat: '<span class=\"legend-line\"><span>{name}</span> <span class=\"value\">{percentage:.2f}%</span></span>',\r\n            verticalAlign: 'middle',\r\n            width: screens[use].lWidth,\r\n            title: {\r\n                text: '<span class=\"legend-line title\"><span>Общежитие</span> <span class=\"value\">Посещений</span></span>'\r\n            },\r\n            itemStyle: {\r\n                display: 'inline-block',\r\n                fontSize: screens[use].fSize,\r\n                fontWeight: 400,\r\n                width: screens[use].lWidth\r\n            }\r\n        },\r\n        chart: {\r\n            plotBackgroundColor: null,\r\n            plotBorderWidth: null,\r\n            plotShadow: false,\r\n            type: 'pie',\r\n            height: screens[use].height,\r\n            width: screens[use].width\r\n        },\r\n        plotOptions: {\r\n            pie: {\r\n                allowPointSelect: true,\r\n                cursor: 'pointer',\r\n                dataLabels: { enabled: false },\r\n                showInLegend: true\r\n            }\r\n        },\r\n        series: [{\r\n            name: 'Авторизации',\r\n            colorByPoint: true,\r\n            data: this.getSigns()\r\n        }]\r\n    })\r\n}\r\n\r\nfunction getSigns () {\r\n    var result = []\r\n    var dormitories = JSON.parse( JSON.stringify(this.$store.state.dormitories.list))\r\n    dormitories.sort((a, b) => b.signs - a.signs)\r\n\r\n    for (let i = 0; i != dormitories.length; ++i) {\r\n        if ( i >= 4 ) {\r\n            if ( result[4] === undefined )\r\n                result[4] = { y: 0 }\r\n                \r\n            result[4].name = 'Другие'\r\n            result[4].y += parseSigns(dormitories[i].signs) || 0\r\n        }\r\n\r\n        else {\r\n            result.push({\r\n                name: dormitories[i].name,\r\n                y: parseSigns(dormitories[i].signs)\r\n            })\r\n        }\r\n    }\r\n\r\n    return result\r\n}\r\n\r\nfunction allSigns () {\r\n    var dormitories = this.$store.state.dormitories.list\r\n    var count = 0\r\n\r\n    dormitories.forEach(dormitory => {\r\n        count += parseSigns(dormitory.signs)\r\n    })\r\n\r\n    return count\r\n}\r\n\r\nasync function getByDays (type) {\r\n    return new Promise(async resolve => {\r\n        let result = []\r\n\r\n        if ( this.byDate === false ) {\r\n            var { data } = await this.api.get('sign/list')\r\n            this.byDate = data\r\n            result = data[type]\r\n        }\r\n\r\n        else result = this.byDate[type]\r\n\r\n        result.forEach((value, index) => {\r\n            if (value === null)\r\n                result[index] = 0\r\n        })\r\n\r\n        resolve(result)\r\n    })\r\n}\r\n\r\nfunction parseSigns (signs) {\r\n    return (signs.length === undefined)\r\n        ? signs || 0\r\n        : signs.length\r\n}\r\n</script>\r\n\r\n<style lang='stylus'>\r\n@import '~src/style/palette'\r\n\r\n.second-level\r\n    align-items stretch\r\n    display flex\r\n    justify-content space-between\r\n\r\n    .block\r\n        width 33.3333% !important\r\n\r\n.diag-size-2\r\n    align-items center\r\n    border 1px solid $light-gray\r\n    display flex\r\n    justify-content center\r\n    height 400px\r\n    width 66.6666% !important\r\n\r\n.diag-size-3\r\n    border-bottom none !important\r\n    border-right none !important\r\n    width 100% !important\r\n    &:last-child\r\n        border-bottom 1px solid $light-gray !important\r\n\r\n@media (min-width: 1600px)\r\n\r\n    .diag-size-2\r\n        height 480px\r\n    \r\n</style>"]}]}