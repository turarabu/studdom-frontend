{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\views\\Dormitories\\All.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\views\\Dormitories\\All.vue","mtime":1576370949817},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnOnNyYy9jb21wb25lbnRzL1VJL1Byb2dyZXNzQmFyLnZ1ZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGNvbXBvbmVudHM6IHsgUHJvZ3Jlc3NCYXIgfSwNCiAgICBjb21wdXRlZDogeyBkb3JzLCBhbGwgfSwNCiAgICBtZXRob2RzOiB7IGdldENpdHksIGdldENvdW50IH0sDQogICAgZGF0YTogZnVuY3Rpb24gKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgLy8gZG9yczogWw0KICAgICAgICAgICAgLy8gICAgIFsn0JLQmtCT0KLQoycsICfQo9GB0YLRjC3QmtCw0LzQtdC90L7Qs9C+0YDRgdC6JywgMjQ1NiwgMjMsIDE0MTU2XSwNCiAgICAgICAgICAgIC8vICAgICBbJ9Ca0JDQoNCT0KMnLCAn0JrQsNGA0LDQs9Cw0L3QtNCwJywgMTI0NSwgNDMsIDU0ODYxXSwNCiAgICAgICAgICAgIC8vICAgICBbJ9Ch0JPQoNCaJywgJ9Ch0LXQvNC10LknLCA2NTQ2LCA2MSwgMjMxNTZdLA0KICAgICAgICAgICAgLy8gICAgIFsn0JzQk9CjJywgJ9Cc0L7RgdC60LLQsCcsIDc2ODUsIDExLCAxNDE2N10sDQogICAgICAgICAgICAvLyAgICAgWyfQodCT0J/QmCcsICfQodCw0L3QutGCLdCf0LXRgtC10YDQsdGD0LPRgCcsIDIxODIsIDIzLCA1NjQ0MV0sDQogICAgICAgICAgICAvLyAgICAgWyfQnNCj0JAnLCAn0J3Rg9GALdCh0YPQu9GC0LDQvSAo0JDRgdGC0LDQvdCwKScsIDIyNTMsIDIzLCA1NDY0Nl0sDQogICAgICAgICAgICAvLyAgICAgWyfQldCd0KMnLCAn0J3Rg9GALdCh0YPQu9GC0LDQvSAo0JDRgdGC0LDQvdCwKScsIDQyMjMsIDIzLCA0NTYyXQ0KICAgICAgICAgICAgLy8gXQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBkb3JzICgpIHsNCiAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZG9ybWl0b3JpZXMubGlzdA0KfQ0KDQpmdW5jdGlvbiBhbGwgKCkgew0KICAgIHZhciBjb3VudCA9IDANCg0KICAgIGlmICggdGhpcy5kb3JzICE9IHVuZGVmaW5lZCApIHsNCiAgICAgICAgZm9yIChsZXQgZG9yIGluIHRoaXMuZG9ycykNCiAgICAgICAgICAgIGlmICggdGhpcy5kb3JzLmhhc093blByb3BlcnR5KGRvcikgKQ0KICAgICAgICAgICAgICAgIGNvdW50ICs9IHRoaXMuZG9yc1tkb3JdLmF1dGhzIHx8IDANCiAgICB9IA0KDQogICAgcmV0dXJuIGNvdW50DQp9DQoNCmZ1bmN0aW9uIGdldENpdHkgKGNpdHkpIHsNCiAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2l0aWVzLmZpbmQoYyA9PiBjLmNvZGUgPT09IGNpdHkpLm5hbWUNCn0NCg0KZnVuY3Rpb24gZ2V0Q291bnQoc3ViamVjdCkgew0KICAgIGlmICggc3ViamVjdC5sZW5ndGggPT09IHVuZGVmaW5lZCApDQogICAgICAgIHJldHVybiBzdWJqZWN0DQogICAgDQogICAgZWxzZSByZXR1cm4gc3ViamVjdC5sZW5ndGgNCn0NCg=="},{"version":3,"sources":["All.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"All.vue","sourceRoot":"source/views/Dormitories","sourcesContent":["<template lang=\"pug\">\r\n    \r\n    table( class='all-dormitories' )\r\n        thead( class='not-body head' )\r\n            tr( class='row' )\r\n                th( class='data' ) Название\r\n                th( class='data' ) Город\r\n                th( class='data' ) Студентов\r\n                th( class='data' ) Активность\r\n                th( class='data' ) Посещений\r\n            \r\n        tbody( class='body' )\r\n            router-link( v-for='(dor, id) of dors' tag='tr' class='row' :to='`/dormitories/id/${dor.code}`' :key='id' )\r\n                td( class='data' ) {{ dor.name }}\r\n                td( class='data' ) {{ getCity(dor.city) }}\r\n                td( class='data' ) {{ getCount(dor.students) }}\r\n                td( class='data' )\r\n                    ProgressBar( :value='dor.activity' )\r\n                td( class='data' ) {{ getCount(dor.signs) }}\r\n\r\n        tfoot( class='not-body foot' )\r\n            tr( class='row' )\r\n                th( class='data' colspan='4' ) Всего\r\n                td( class='data' ) {{ all }}\r\n</template>\r\n\r\n<script>\r\nimport ProgressBar from ':src/components/UI/ProgressBar.vue'\r\n\r\nexport default {\r\n    components: { ProgressBar },\r\n    computed: { dors, all },\r\n    methods: { getCity, getCount },\r\n    data: function () {\r\n        return {\r\n            // dors: [\r\n            //     ['ВКГТУ', 'Усть-Каменогорск', 2456, 23, 14156],\r\n            //     ['КАРГУ', 'Караганда', 1245, 43, 54861],\r\n            //     ['СГРК', 'Семей', 6546, 61, 23156],\r\n            //     ['МГУ', 'Москва', 7685, 11, 14167],\r\n            //     ['СГПИ', 'Санкт-Петербугр', 2182, 23, 56441],\r\n            //     ['МУА', 'Нур-Султан (Астана)', 2253, 23, 54646],\r\n            //     ['ЕНУ', 'Нур-Султан (Астана)', 4223, 23, 4562]\r\n            // ]\r\n        }\r\n    }\r\n}\r\n\r\nfunction dors () {\r\n    return this.$store.state.dormitories.list\r\n}\r\n\r\nfunction all () {\r\n    var count = 0\r\n\r\n    if ( this.dors != undefined ) {\r\n        for (let dor in this.dors)\r\n            if ( this.dors.hasOwnProperty(dor) )\r\n                count += this.dors[dor].auths || 0\r\n    } \r\n\r\n    return count\r\n}\r\n\r\nfunction getCity (city) {\r\n    return this.$store.state.cities.find(c => c.code === city).name\r\n}\r\n\r\nfunction getCount(subject) {\r\n    if ( subject.length === undefined )\r\n        return subject\r\n    \r\n    else return subject.length\r\n}\r\n</script>\r\n\r\n<style lang='stylus'>\r\n@import '~src/style/palette'\r\n\r\n.all-dormitories\r\n    border-collapse collapse\r\n    margin 42px 0\r\n    width 100%\r\n\r\n    .not-body\r\n        &.head\r\n            border-bottom 1px solid $light-gray\r\n        &.foot\r\n            border-top 1px solid $light-gray\r\n\r\n            .data\r\n                padding-top 4px\r\n\r\n        .data\r\n            font-weight 500\r\n            padding 8px 12px\r\n\r\n    .body\r\n        &:before, &:after\r\n            content ''\r\n            display block\r\n            height 8px\r\n\r\n        .data:last-child\r\n            font-weight 500\r\n\r\n        .row\r\n            cursor pointer\r\n            &:hover\r\n                background lighten($light-gray, 25)\r\n\r\n    .data\r\n        font-size 24px   \r\n        padding 4px 12px\r\n        text-align left\r\n        &:last-child\r\n            text-align right\r\n</style>"]}]}