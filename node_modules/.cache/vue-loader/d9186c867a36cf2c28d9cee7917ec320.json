{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\App.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\App.vue","mtime":1577419830473},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnfnNyYy9zdHlsZS9mb250cycKQGltcG9ydCAnfnNyYy9zdHlsZS9iYXNlJwpAaW1wb3J0ICd+c3JjL3N0eWxlL3BhbGV0dGUnCgojbW9kYWxzLWRpdgogICAgYWxpZ24taXRlbXMgZmxleC1zdGFydAogICAgYmFja2dyb3VuZCBSR0JBKDUwLCA1MCwgNTAsIC41KQogICAgZGlzcGxheSBmbGV4CiAgICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyCiAgICBvdmVyZmxvdyBhdXRvCiAgICBwYWRkaW5nIDYycHggMCAzMnB4IDAKICAgIHBvc2l0aW9uIGZpeGVkCiAgICB0b3AgMAogICAgYm90dG9tIDAKICAgIGxlZnQgMAogICAgd2lkdGggMTAwJQogICAgei1pbmRleCAxMDAKCiAgICAubW9kYWwKICAgICAgICBiYWNrZ3JvdW5kICR3aGl0ZQogICAgICAgIGJvcmRlci1yYWRpdXMgNXB4CiAgICAgICAgYm94LXNoYWRvdyAwIDAgMTVweCBSR0JBKDUwLCA1MCwgNTAsIC41KQoKICAgICAgICAubW9kYWwtdGl0bGUKICAgICAgICAgICAgZm9udC1zaXplIDIwcHgKICAgICAgICAgICAgZm9udC13ZWlnaHQgNTAwCg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"App.vue","sourceRoot":"source","sourcesContent":["<template lang=\"pug\">\n    body#app\n        AuthPage( v-if='user.status === false' )\n        Dashboard( v-else )\n\n        div#modals-div( v-if='modals.length > 0' @click='checkClose' )\n            div( v-for='(modal, id) in modals' :key='id' )\n                ModalCreateUser( v-if='modal.name == \"createUser\"' v-bind='{ id, data: modal.data }' )\n                ModalCreateDormitory( v-if='modal.name == \"createDormitory\"' v-bind='{ id, data: modal.data }' )\n                \n                ModalEditDormitory( v-if='modal.name == \"editDormitory\"' v-bind='{ id, data: modal.data }' )\n                ModalEditUser( v-if='modal.name == \"editUser\"' v-bind='{ id, data: modal.data }' )\n\n\n</template>\n\n<script>\nimport AuthPage from ':src/components/Auth.vue'\nimport Dashboard from ':src/components/Dashboard.vue'\n\nimport ModalCreateUser from ':src/components/Modal/CreateUser.vue'\nimport ModalCreateDormitory from ':src/components/Modal/CreateDormitory.vue'\n\nimport ModalEditDormitory from ':src/components/Modal/EditDormitory.vue'\nimport ModalEditUser from ':src/components/Modal/EditUser.vue'\n\nexport default {\n    components: { AuthPage, Dashboard, ModalCreateUser, ModalCreateDormitory, ModalEditDormitory, ModalEditUser },\n    computed: { user, modals },\n    methods: { loadData, checkClose },\n    mounted: start\n}\n\nfunction user () {\n    console.log('123')\n    console.log(this.$store.state.user)\n    return this.$store.state.user\n}\n\nfunction modals () {\n    return this.$store.state.modals\n}\n\nasync function loadData () {\n    if ('cities') {\n        let { data } = await this.api.get('city/list')\n        this.$store.commit('cities-set', data)\n    }\n\n    if ('dormitories') {\n        let { data } = await this.api.get('dormitory/list')\n        this.$store.commit('dormitories-set', data)\n    }\n\n    return true\n}\n\nfunction checkClose (event) {\n    if ( event.target.id === 'modals-div' )\n        this.$store.commit('closeModal', this.modals.length - 1)\n}\n\nasync function start () {\n    if ('user') {\n        let { data } = await this.api.get('user/profile')\n\n        if ( data.login ) {\n            await this.loadData()\n            this.$store.commit('user-set', data)\n            this.$router.push('/')\n        }\n\n        else this.$store.commit('user-quit')\n    }\n\n    if ('actions') {\n        let { data } = await this.api.get('action/list')\n\n        this.$store.commit('set-actions', data)\n    }\n}\n</script>\n\n<style lang=\"stylus\">\n@import '~src/style/fonts'\n@import '~src/style/base'\n@import '~src/style/palette'\n\n#modals-div\n    align-items flex-start\n    background RGBA(50, 50, 50, .5)\n    display flex\n    justify-content center\n    overflow auto\n    padding 62px 0 32px 0\n    position fixed\n    top 0\n    bottom 0\n    left 0\n    width 100%\n    z-index 100\n\n    .modal\n        background $white\n        border-radius 5px\n        box-shadow 0 0 15px RGBA(50, 50, 50, .5)\n\n        .modal-title\n            font-size 20px\n            font-weight 500\n</style>"]}]}