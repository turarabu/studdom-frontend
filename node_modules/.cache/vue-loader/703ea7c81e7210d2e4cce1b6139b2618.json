{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\views\\Dormitories\\Dormitory.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\views\\Dormitories\\Dormitory.vue","mtime":1576088542421},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU3R1ZGVudHNUYWJsZSBmcm9tICc6c3JjL2NvbXBvbmVudHMvRG9ybWl0b3JpZXMvVGFibGVzL1N0dWRlbnRzLnZ1ZScNCmltcG9ydCBTaWduc1RhYmxlIGZyb20gJzpzcmMvY29tcG9uZW50cy9Eb3JtaXRvcmllcy9UYWJsZXMvU2lnbnMudnVlJw0KaW1wb3J0IFR1cm5zdGlsZXNUYWJsZSBmcm9tICc6c3JjL2NvbXBvbmVudHMvRG9ybWl0b3JpZXMvVGFibGVzL1R1cm5zdGlsZS52dWUnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7IFN0dWRlbnRzVGFibGUsIFNpZ25zVGFibGUsIFR1cm5zdGlsZXNUYWJsZSB9LA0KICAgIGNvbXB1dGVkOiB7IGRvcm1pdG9yeSB9LA0KICAgIG1vdW50ZWQ6IHN0YXJ0LA0KICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGFjdGl2ZTogMA0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBkb3JtaXRvcnkgKCkgew0KICAgIGZvciAoIGxldCBkb3JtaXRvcnkgb2YgdGhpcy4kc3RvcmUuc3RhdGUuZG9ybWl0b3JpZXMubGlzdCApIHsNCiAgICAgICAgaWYgKCBkb3JtaXRvcnkuY29kZSA9PT0gdGhpcy4kcm91dGUucGFyYW1zLmlkICkNCiAgICAgICAgICAgIHJldHVybiBkb3JtaXRvcnkNCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0ICgpIHsNCiAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCiAgICB2YXIgZG9ybWl0b3J5ID0gdGhpcy5kb3JtaXRvcnkNCg0KICAgIGlmICggZG9ybWl0b3J5LmRldGFpbHNMb2FkZWQgPT09IHVuZGVmaW5lZCApIHsNCiAgICAgICAgdmFyIHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5hcGkuZ2V0KCdkb3JtaXRvcnkvZGV0YWlscycsIHsgZG9ybWl0b3J5OiBkb3JtaXRvcnkuY29kZSB9KQ0KDQogICAgICAgIGRhdGEuaWQgPSBpZA0KICAgICAgICBkYXRhLmRldGFpbHNMb2FkZWQgPSB0cnVlDQoNCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzdHVkZW50cy1hZGQnLCBkYXRhLnN0dWRlbnRzKQ0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2Rvcm1pdG9yaWVzLXVwZGF0ZScsIGRhdGEpDQogICAgfQ0KfQ0K"},{"version":3,"sources":["Dormitory.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"Dormitory.vue","sourceRoot":"source/views/Dormitories","sourcesContent":["<template lang='pug'>\r\n    div( class='concrette-dormitory' )\r\n        div( class='tabs-div' )\r\n            span( class='tab' :class='{ active: active === 0 }' @click='active = 0' ) Регистрации\r\n            span( class='tab' :class='{ active: active === 1 }' @click='active = 1' ) Авторизации\r\n            span( class='tab' :class='{ active: active === 2 }' @click='active = 2' ) Активность турникетов\r\n\r\n        StudentsTable( v-if='active === 0' v-bind='{ dormitory }' )\r\n        SignsTable( v-if='active === 1' v-bind='{ dormitory }' )\r\n        TurnstilesTable( v-if='active === 2' v-bind='{ dormitory }' )\r\n</template>\r\n\r\n<script>\r\nimport StudentsTable from ':src/components/Dormitories/Tables/Students.vue'\r\nimport SignsTable from ':src/components/Dormitories/Tables/Signs.vue'\r\nimport TurnstilesTable from ':src/components/Dormitories/Tables/Turnstile.vue'\r\n\r\nexport default {\r\n    components: { StudentsTable, SignsTable, TurnstilesTable },\r\n    computed: { dormitory },\r\n    mounted: start,\r\n    data: function () {\r\n        return {\r\n            active: 0\r\n        }\r\n    }\r\n}\r\n\r\nfunction dormitory () {\r\n    for ( let dormitory of this.$store.state.dormitories.list ) {\r\n        if ( dormitory.code === this.$route.params.id )\r\n            return dormitory\r\n    }\r\n}\r\n\r\nasync function start () {\r\n    var id = this.$route.params.id\r\n    var dormitory = this.dormitory\r\n\r\n    if ( dormitory.detailsLoaded === undefined ) {\r\n        var { data } = await this.api.get('dormitory/details', { dormitory: dormitory.code })\r\n\r\n        data.id = id\r\n        data.detailsLoaded = true\r\n\r\n        this.$store.commit('students-add', data.students)\r\n        this.$store.commit('dormitories-update', data)\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang='stylus'>\r\n@import '~src/style/palette'\r\n\r\n.concrette-dormitory\r\n\r\n    .tabs-div\r\n        border-bottom 1px solid $light-gray\r\n        display flex\r\n        margin 24px 0\r\n\r\n        .tab\r\n            border 1px solid transparent\r\n            border-radius 5px 5px 0 0\r\n            color $blue\r\n            cursor pointer\r\n            display block\r\n            font-size 18px\r\n            font-weight 300\r\n            margin-bottom -1px\r\n            padding 12px 72px\r\n            text-transform uppercase\r\n            &.active\r\n                border 1px solid $light-gray\r\n                border-bottom 1px solid $white\r\n\r\n    .dormitories-table\r\n        border-collapse collapse\r\n        margin 42px 0\r\n        width 100%\r\n\r\n        .not-body\r\n            &.head\r\n                border-bottom 1px solid $light-gray\r\n            &.foot\r\n                border-top 1px solid $light-gray\r\n\r\n                .data\r\n                    padding-top 4px\r\n\r\n            .data\r\n                font-weight 500\r\n                padding 8px 12px\r\n\r\n        .body\r\n            &:before, &:after\r\n                content ''\r\n                display block\r\n                height 8px\r\n\r\n            .data:last-child\r\n                font-weight 500\r\n\r\n            .row\r\n                cursor pointer\r\n                &:hover\r\n                    background lighten($light-gray, 25)\r\n\r\n        .data\r\n            font-size 24px   \r\n            padding 4px 12px\r\n            text-align left\r\n            &:last-child\r\n                text-align right\r\n</style>"]}]}