{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\Dormitories\\Tables\\Students.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\Dormitories\\Tables\\Students.vue","mtime":1576090309730},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ1N0dWRlbnRzVGFibGUnLA0KICAgIHByb3BzOiBbJ2Rvcm1pdG9yeSddLA0KICAgIGNvbXB1dGVkOiB7IHN0dWRlbnRzLCBmaWx0ZXJlZCwgYWxsIH0sDQogICAgbWV0aG9kczogeyB0b0RhdGUgfQ0KfQ0KDQpmdW5jdGlvbiBzdHVkZW50cyAoKSB7DQogICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnN0dWRlbnRzLmxpc3QNCn0NCg0KZnVuY3Rpb24gZmlsdGVyZWQgKCkgew0KICAgIHZhciBsaXN0ID0gdGhpcy4kc3RvcmUuc3RhdGUuc3R1ZGVudHMubGlzdA0KICAgIHZhciByZXN1bHQgPSB7fQ0KDQogICAgaWYgKCB0aGlzLnN0dWRlbnRzICkNCiAgICAgICAgT2JqZWN0LmtleXMobGlzdCkuZm9yRWFjaChpZCA9PiB7DQogICAgICAgICAgICBpZiAoIGxpc3RbaWRdLmRvcm1pdG9yeSA9PT0gdGhpcy5kb3JtaXRvcnkuY29kZSApDQogICAgICAgICAgICAgICAgcmVzdWx0W2lkXSA9IGxpc3RbaWRdDQogICAgICAgIH0pDQoNCiAgICByZXR1cm4gcmVzdWx0DQp9DQoNCmZ1bmN0aW9uIGFsbCAoKSB7DQogICAgaWYgKCB0aGlzLnN0dWRlbnRzID09IHVuZGVmaW5lZCApDQogICAgICAgIHJldHVybiAwDQoNCiAgICBlbHNlIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0dWRlbnRzKS5sZW5ndGgNCn0NCg0KZnVuY3Rpb24gdG9EYXRlIChzdHJpbmcpIHsNCiAgICByZXR1cm4gbmV3IERhdGUoc3RyaW5nKS50b0xvY2FsZURhdGVTdHJpbmcoJ3J1Jywgew0KICAgICAgICB5ZWFyOiAnbnVtZXJpYycsDQogICAgICAgIGRheTogJ251bWVyaWMnLA0KICAgICAgICBtb250aDogJ2xvbmcnLA0KICAgICAgICBob3VyOiAnbnVtZXJpYycsDQogICAgICAgIG1pbnV0ZTogJ251bWVyaWMnDQogICAgfSkucmVwbGFjZSgnINCzLicsICcnKQ0KfQ0KDQo="},{"version":3,"sources":["Students.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Students.vue","sourceRoot":"source/components/Dormitories/Tables","sourcesContent":["<template lang='pug'>\r\n    table( class='dormitories-table' )\r\n        thead( class='not-body head' )\r\n            tr( class='row' )\r\n                th( class='data' ) ФИО\r\n                th( class='data' ) Дата и время\r\n                th( class='data' ) ИИН\r\n            \r\n        tbody( class='body' )\r\n            tr( v-for='(student, id) in filtered' class='row' :key='id' )\r\n                td( class='data' ) {{ student.lastName }} {{ student.firstName }}\r\n                td( class='data' ) {{ toDate(student.signUp) }}\r\n                td( class='data' ) {{ student.iin }}\r\n\r\n        tfoot( class='not-body foot' )\r\n            tr( class='row' )\r\n                th( class='data' colspan='2' ) Всего\r\n                td( class='data' ) {{ all }}\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'StudentsTable',\r\n    props: ['dormitory'],\r\n    computed: { students, filtered, all },\r\n    methods: { toDate }\r\n}\r\n\r\nfunction students () {\r\n    return this.$store.state.students.list\r\n}\r\n\r\nfunction filtered () {\r\n    var list = this.$store.state.students.list\r\n    var result = {}\r\n\r\n    if ( this.students )\r\n        Object.keys(list).forEach(id => {\r\n            if ( list[id].dormitory === this.dormitory.code )\r\n                result[id] = list[id]\r\n        })\r\n\r\n    return result\r\n}\r\n\r\nfunction all () {\r\n    if ( this.students == undefined )\r\n        return 0\r\n\r\n    else return Object.keys(this.students).length\r\n}\r\n\r\nfunction toDate (string) {\r\n    return new Date(string).toLocaleDateString('ru', {\r\n        year: 'numeric',\r\n        day: 'numeric',\r\n        month: 'long',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    }).replace(' г.', '')\r\n}\r\n\r\n</script>"]}]}