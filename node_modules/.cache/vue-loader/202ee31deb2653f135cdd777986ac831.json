{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\Dormitories\\Tables\\Signs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\components\\Dormitories\\Tables\\Signs.vue","mtime":1576086843804},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IFsnZG9ybWl0b3J5J10sDQogICAgY29tcHV0ZWQ6IHsgc2lnbnMsIGFsbCB9LA0KICAgIG1ldGhvZHM6IHsgZ2V0U3R1ZGVudE5hbWVzLCBnZXRUdXJuc3RpbGUsIHRvRGF0ZSB9DQp9DQoNCmZ1bmN0aW9uIHNpZ25zICgpIHsNCiAgICByZXR1cm4gdGhpcy5kb3JtaXRvcnkuc2lnbnMubGVuZ3RoDQogICAgICAgID8gdGhpcy5kb3JtaXRvcnkuc2lnbnMgOiBbXQ0KfQ0KDQpmdW5jdGlvbiBnZXRTdHVkZW50TmFtZXMgKGlpbikgew0KICAgIGZvciAoIGxldCBzdHVkZW50IG9mIHRoaXMuZG9ybWl0b3J5LnN0dWRlbnRzICkgew0KICAgICAgICBpZiAoIHN0dWRlbnQuaWluID09IGlpbiApDQogICAgICAgICAgICByZXR1cm4gYCR7IHN0dWRlbnQubGFzdE5hbWUgfSAkeyBzdHVkZW50LmZpcnN0TmFtZSB9YA0KICAgIH0NCn0NCg0KZnVuY3Rpb24gZ2V0VHVybnN0aWxlIChpZCkgew0KICAgIGZvciAoIGxldCB0dXJuc3RpbGUgb2YgdGhpcy5kb3JtaXRvcnkudHVybnN0aWxlcyApIHsNCiAgICAgICAgaWYgKCB0dXJuc3RpbGUuaWQgPT0gaWQgKQ0KICAgICAgICAgICAgcmV0dXJuIHR1cm5zdGlsZS5uYW1lDQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBhbGwgKCkgew0KICAgIHJldHVybiB0aGlzLmRvcm1pdG9yeS5zaWducy5sZW5ndGggfHwgMA0KfQ0KDQpmdW5jdGlvbiB0b0RhdGUgKHN0cmluZykgew0KICAgIHJldHVybiBuZXcgRGF0ZShzdHJpbmcpLnRvTG9jYWxlRGF0ZVN0cmluZygncnUnLCB7DQogICAgICAgIHllYXI6ICdudW1lcmljJywNCiAgICAgICAgZGF5OiAnbnVtZXJpYycsDQogICAgICAgIG1vbnRoOiAnbG9uZycsDQogICAgICAgIGhvdXI6ICdudW1lcmljJywNCiAgICAgICAgbWludXRlOiAnbnVtZXJpYycNCiAgICB9KS5yZXBsYWNlKCcg0LMuJywgJycpDQp9DQo="},{"version":3,"sources":["Signs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signs.vue","sourceRoot":"source/components/Dormitories/Tables","sourcesContent":["<template lang='pug'>\r\n    table( class='dormitories-table' )\r\n        thead( class='not-body head' )\r\n            tr( class='row' )\r\n                th( class='data' ) ФИО\r\n                th( class='data' ) Дата и время\r\n                th( class='data' ) ИИН\r\n                th( class='data' ) Турникет\r\n\r\n        tbody( class='body' )\r\n            tr( v-for='(sign, id) in signs' class='row' :key='id' )\r\n                td( class='data' ) {{ getStudentNames(sign.student) }}\r\n                td( class='data' ) {{ toDate(sign.date) }}\r\n                td( class='data' ) {{ sign.student }}\r\n                td( class='data' ) {{ getTurnstile(sign.turnstile) }}\r\n\r\n        tfoot( class='not-body foot' )\r\n            tr( class='row' )\r\n                th( class='data' colspan='3' ) Всего\r\n                td( class='data' ) {{ all }}\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['dormitory'],\r\n    computed: { signs, all },\r\n    methods: { getStudentNames, getTurnstile, toDate }\r\n}\r\n\r\nfunction signs () {\r\n    return this.dormitory.signs.length\r\n        ? this.dormitory.signs : []\r\n}\r\n\r\nfunction getStudentNames (iin) {\r\n    for ( let student of this.dormitory.students ) {\r\n        if ( student.iin == iin )\r\n            return `${ student.lastName } ${ student.firstName }`\r\n    }\r\n}\r\n\r\nfunction getTurnstile (id) {\r\n    for ( let turnstile of this.dormitory.turnstiles ) {\r\n        if ( turnstile.id == id )\r\n            return turnstile.name\r\n    }\r\n}\r\n\r\nfunction all () {\r\n    return this.dormitory.signs.length || 0\r\n}\r\n\r\nfunction toDate (string) {\r\n    return new Date(string).toLocaleDateString('ru', {\r\n        year: 'numeric',\r\n        day: 'numeric',\r\n        month: 'long',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    }).replace(' г.', '')\r\n}\r\n</script>"]}]}