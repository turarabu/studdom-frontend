{"remainingRequest":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\source\\views\\Home.vue","mtime":1577240750221},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Turar\\Projects\\Work\\studdom\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbmZvQ2FyZCBmcm9tICc6c3JjL2NvbXBvbmVudHMvSG9tZS9JbmZvQ2FyZC52dWUnCmltcG9ydCBGaXJzdExpbmUgZnJvbSAnOnNyYy9jb21wb25lbnRzL0hvbWUvRmlyc3RMaW5lLnZ1ZScKaW1wb3J0IFNlY29uZExpbmUgZnJvbSAnOnNyYy9jb21wb25lbnRzL0hvbWUvU2Vjb25kTGluZS52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7IEluZm9DYXJkLCBGaXJzdExpbmUsIFNlY29uZExpbmUgfSwKICAgIGNvbXB1dGVkOiB7IGRvcm1pdG9yaWVzLCBzdHVkZW50cywgYWxsU2lnbnMgfSwKICAgIG1vdW50ZWQ6IHN0YXJ0LAogICAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZTogd2luZG93LmlubmVyV2lkdGggPj0gMTYwMCA/IDE2MDAgOiAxMzY2LAogICAgICAgICAgICByZWNvcmRzOiAwCiAgICAgICAgfQogICAgfQp9CgpmdW5jdGlvbiBkb3JtaXRvcmllcyAoKSB7CiAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZG9ybWl0b3JpZXMubGlzdAp9CgpmdW5jdGlvbiBzdHVkZW50cyAoKSB7CiAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3R1ZGVudHMubGlzdAp9CgpmdW5jdGlvbiBhbGxTaWducyAoKSB7CiAgICB2YXIgZG9ybWl0b3JpZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kb3JtaXRvcmllcy5saXN0CiAgICB2YXIgY291bnQgPSAwCgogICAgZG9ybWl0b3JpZXMuZm9yRWFjaChkb3JtaXRvcnkgPT4gewogICAgICAgIGNvdW50ICs9IChkb3JtaXRvcnkuc2lnbnMubGVuZ3RoID09PSB1bmRlZmluZWQpCiAgICAgICAgICAgID8gZG9ybWl0b3J5LnNpZ25zCiAgICAgICAgICAgIDogZG9ybWl0b3J5LnNpZ25zLmxlbmd0aAogICAgfSkKCiAgICByZXR1cm4gY291bnQKfQoKYXN5bmMgZnVuY3Rpb24gc3RhcnQgKCkgewogICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4gewogICAgICAgIHRoaXMudXNlID0gd2luZG93LmlubmVyV2lkdGggPj0gMTYwMCA/IDE2MDAgOiAxMzY2CiAgICB9CgogICAgaWYgKCdyZWNvcmRzJykgewogICAgICAgIGxldCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuYXBpLmdldCgncmVjb3JkL2xpc3QnKQogICAgICAgIHRoaXMucmVjb3JkcyA9IGRhdGEubGVuZ3RoCiAgICB9CgogICAgaWYgKCdzdHVkZW50cycpIHsKICAgICAgICBsZXQgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmFwaS5nZXQoJ3N0dWRlbnQvYWxsJykKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3N0dWRlbnRzLXNldCcsIGRhdGEpCiAgICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"source/views","sourcesContent":["<template lang=\"pug\">\n    div#home\n        div( class='cards-div' )\n            InfoCard( class='red' icon='bed' title='Общежитий' :value='dormitories.length' icon-top='8px' )\n            InfoCard( class='green' icon='student' title='Студентов' :value='students.length' icon-top='8px' )\n            InfoCard( class='blue arrows-rotate' icon='arrows' title='Авторизации' :value='allSigns' icon-top='4px' )\n            InfoCard( class='purple' icon='reports' title='Отчёты' :value='this.records' icon-top='8px' )\n\n        FirstLine( :use='use' )\n        SecondLine( :use='use' )\n</template>\n\n<script>\nimport InfoCard from ':src/components/Home/InfoCard.vue'\nimport FirstLine from ':src/components/Home/FirstLine.vue'\nimport SecondLine from ':src/components/Home/SecondLine.vue'\n\nexport default {\n    components: { InfoCard, FirstLine, SecondLine },\n    computed: { dormitories, students, allSigns },\n    mounted: start,\n    data: function () {\n        return {\n            use: window.innerWidth >= 1600 ? 1600 : 1366,\n            records: 0\n        }\n    }\n}\n\nfunction dormitories () {\n    return this.$store.state.dormitories.list\n}\n\nfunction students () {\n    return this.$store.state.students.list\n}\n\nfunction allSigns () {\n    var dormitories = this.$store.state.dormitories.list\n    var count = 0\n\n    dormitories.forEach(dormitory => {\n        count += (dormitory.signs.length === undefined)\n            ? dormitory.signs\n            : dormitory.signs.length\n    })\n\n    return count\n}\n\nasync function start () {\n    window.onresize = () => {\n        this.use = window.innerWidth >= 1600 ? 1600 : 1366\n    }\n\n    if ('records') {\n        let { data } = await this.api.get('record/list')\n        this.records = data.length\n    }\n\n    if ('students') {\n        let { data } = await this.api.get('student/all')\n        this.$store.commit('students-set', data)\n    }\n}\n</script>\n\n<style lang='stylus'>\n@import '~src/style/palette'\n\n#home\n\n    .cards-div\n        align-items flex-start\n        display flex\n        justify-content space-between\n\n        .arrows-rotate .icon\n            display inline-block\n            transform rotate(90deg)\n\n    .diag-size-1\n        align-items center\n        border 1px solid $light-gray\n        border-right none\n        display flex\n        justify-content center\n        height 200px\n        width 33.3333%\n        &:last-child\n            border-right 1px solid $light-gray\n        &.texts\n            flex-direction column\n\n        .home-data-line\n            align-items center\n            display flex\n            margin 8px 0\n            justify-content space-between\n            width 80%\n\n            .key-title\n                color darken($light-gray, 35)\n                font-size 14px\n\n            .key-subtitle\n                color darken($light-gray, 15)\n                display block\n                font-size 14px\n\n            .value\n                font-size 14px\n                font-weight 500\n                &.red\n                    color $red\n                &.blue\n                    color $blue\n                &.purple\n                    color $purple\n\n        .legend-line\n            align-items flex-start\n            display flex\n            justify-content space-between\n            width 120px\n            &.title\n                font-size 12px\n                font-weight 300\n                margin-top 14px\n                width 140px\n\n            .value\n                text-align right\n\n@media (min-width: 1600px)\n    .diag-size-1\n        align-items center\n        border 1px solid $light-gray\n        border-right none\n        display flex\n        justify-content center\n        height 240px !important\n        width 33.3333% \n        &:last-child\n            border-right 1px solid $light-gray\n        &.texts\n            flex-direction column\n\n        .home-data-line\n            align-items center\n            display flex\n            margin 8px 0\n            justify-content space-between\n            width 80%\n\n            .key-title\n                color darken($light-gray, 35)\n                font-size 20px !important\n\n            .key-subtitle\n                color darken($light-gray, 15)\n                display block\n                font-size 14px !important\n\n            .value\n                font-size 24px !important\n                font-weight 500\n                &.red\n                    color $red\n                &.blue\n                    color $blue\n                &.purple\n                    color $purple\n\n        .legend-line\n            align-items flex-start\n            display flex\n            justify-content space-between\n            width 200px !important\n            &.title\n                font-size 18px !important\n                font-weight 300\n                margin-top 14px !important\n                width 220px !important\n\n            .value\n                text-align right\n\n</style>"]}]}